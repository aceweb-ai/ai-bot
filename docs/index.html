<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–¢–µ—Å—Ç AI-–±–æ—Ç–∞</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞</h1>
        <p>–≠—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ GitHub Pages. –û–Ω –±—É–¥–µ—Ç –æ–±—â–∞—Ç—å—Å—è —Å –±—ç–∫–µ–Ω–¥–æ–º –Ω–∞ Vercel.</p>

        <div class="chat-box">
            <div id="message-area">
                <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è -->
                <div class="message bot">–ë–æ—Ç: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å –±—ç–∫–µ–Ω–¥—É.</div>
            </div>

            <div class="controls">
                <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å -->
                <button id="test-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å</button>
                <p id="status"></p>
            </div>
        </div>

        <div class="info">
            <h3>–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:</h3>
            <ol>
                <li>–í—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É.</li>
                <li>–§—Ä–æ–Ω—Ç–µ–Ω–¥ (GitHub Pages) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å —Å –≤–æ–ø—Ä–æ—Å–æ–º –Ω–∞ –±—ç–∫–µ–Ω–¥ (Vercel Function).</li>
                <li>–ë—ç–∫–µ–Ω–¥ (–Ω–∞—à —Ñ–∞–π–ª <code>ask-bot.js</code>) –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–æ–ø—Ä–æ—Å, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç <strong>—Ñ–∏–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–≤–µ—Ç</strong> –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –Ω–∞–∑–∞–¥.</li>
                <li>–§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ –≤–∞–º.</li>
            </ol>
            <p>–ï—Å–ª–∏ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç, —Å–≤—è–∑—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤–µ—Ä–Ω–æ, –∏ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π AI –æ—Ç Chutes.</p>
        </div>
    </div>

    <script>
        // –ê–¥—Ä–µ—Å –Ω–∞—à–µ–≥–æ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ Vercel. –ó–ê–ú–ï–ù–ò–¢–ï 'YOUR_VERCEL_URL' –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π!
        const BACKEND_URL = 'https://ai-bot-peach-one.vercel.app/api/ask-bot';

        document.getElementById('test-button').addEventListener('click', async () => {
            const button = document.getElementById('test-button');
            const statusEl = document.getElementById('status');
            const messageArea = document.getElementById('message-area');

            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞
            button.disabled = true;
            statusEl.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ –±—ç–∫–µ–Ω–¥—É...';
            statusEl.style.color = 'blue';

            // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å
            const testQuestion = "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?";

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å –≤ —á–∞—Ç–µ
            const userMessage = document.createElement('div');
            userMessage.className = 'message user';
            userMessage.textContent = `–í—ã: ${testQuestion}`;
            messageArea.appendChild(userMessage);

            try {
                // –û–¢–ü–†–ê–í–õ–Ø–ï–ú –ó–ê–ü–†–û–° –Ω–∞ –Ω–∞—à –±—ç–∫–µ–Ω–¥ –Ω–∞ Vercel
                const response = await fetch(BACKEND_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ question: testQuestion })
                });

                const data = await response.json();

                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç –±—ç–∫–µ–Ω–¥–∞ –≤ —á–∞—Ç–µ
                const botMessage = document.createElement('div');
                botMessage.className = 'message bot';
                botMessage.textContent = `–ë—ç–∫–µ–Ω–¥: ${data.answer}`;
                messageArea.appendChild(botMessage);

                statusEl.textContent = '‚úÖ –£—Å–ø–µ—Ö! –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω.';
                statusEl.style.color = 'green';

            } catch (error) {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞
                console.error('–û—à–∏–±–∫–∞:', error);
                statusEl.textContent = '‚ùå –û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–≤—è–∑–∞—Ç—å—Å—è —Å –±—ç–∫–µ–Ω–¥–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12).';
                statusEl.style.color = 'red';
            } finally {
                button.disabled = false;
            }
        });
    </script>
</body>
</html>
